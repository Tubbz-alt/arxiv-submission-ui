/* Cuts down on unnecessary whitespace at top. Consider move to base. */
main
  padding: 1rem 1.5rem

.section
  /* move this to base as $section-padding */
  padding: 1em 0

.button
  &.is-short
    height: 1.75em

/* Allows text in a button to wrap responsively. */
.button-is-wrappable
  height: 100%
  white-space: normal

.button-feedback
  vertical-align: baseline

.content h2.replacement
  margin-top: -2rem
  margin-bottom: 2rem
  font-style: italic
  font-weight: 400

.submit-nav
  margin-top: 2.5rem

  button:last-of-type
    margin-left: auto

.form-margin
  margin: .4em 0

.content h1.title
  margin-bottom: 2.5rem

nav.submit-pagination
  display: block
  /*float: right*/
  width: 100%

h2.title-submit
  margin-bottom: 0em
  margin-top: 0.25em !important
  display: block
  float: left
  width: 10%
  display: none

h1.title.title-submit
  margin-top: 0em
  margin-bottom: 0.5em
  clear: both

.texlive-summary article
  padding: .8rem
  &:not(:last-child)
    margin-bottom: .5em
    border-bottom-width: 1px
    border-bottom-style: dotted

.alpha-before
  &::before
    content: '\03b1'
    color: hsla(0%, 0%, 80%, .5)
    font-size: 10em
    position: absolute
    top: -0.4em
    left: -0.25em
    line-height: 1
    font-family: serif

.beta-before
  &::before
    content: '\03b2'
    color: hsla(0%, 0%, 80%, .5)
    font-size: 10em
    position: absolute
    top: -0.4em
    left: -0.25em
    line-height: 1
    font-family: serif

/* overrides for this form only? may move to base */

.field:not(:last-child)
  margin-bottom: 1.25em

.label:not(:last-child)
  margin-bottom: .25em

.buttons .button:not(:last-child)
  margin-right: .75rem

/* tightens up user data display on verify user page */
.user-info
  margin-bottom: 1rem
  .field
    margin-bottom: .5rem
    .field-label
      flex-grow: 2

.control .radio
  margin-bottom: .25em

/* Classes for zebra striping and nested directory display */

$stripe-color: #E8E8E8
$directory-color: #CCC

ol.file-tree
  margin: 0 0 1rem 0
  li
    margin-top: 0
    padding-top: .15em
    padding-bottom: .15em
    padding-left: .25em
    padding-right: .25em
    background-color: white
    &.even
      background-color: $stripe-color
  .columns
    margin: 0
  .column
    padding: 0
    .columns
      margin: 0
  > li ol
    border-left: 2px solid $directory-color
    margin: 0 0 0 1rem
    li
      padding-left: 1em
      &:first-child
        margin-top: 0

/* For highlighting TeX logs */

.tex-help
  background-color: rgba(28, 97, 246, 0.40)
  /* background-color: rgba(152, 35, 255, 0.40) */
  color: rgba(8, 32, 49, 1)
  padding: 0 0.2em

.tex-suggestion
  background-color: rgba(255, 245, 35, 0.60)
  color: rgba(8, 32, 49, 1)
  padding: 0 0.2em

.tex-info
  background-color: rgba(0, 104, 173, 0.15)
  color: rgba(8, 32, 49, 1)
  padding: 0 0.2em

.tex-success
  background-color: rgba(60, 181, 33, 0.15)
  color: rgba(9, 44, 1, 1)
  padding: 0 0.2em

.tex-ignore
  background-color: rgba(183, 183, 183, 0.30)
  color: rgba(9, 44, 1, 1)
  padding: 0 0.2em

.tex-warning
  background-color: rgba(214, 118, 0, 0.4)
  color: rgba(33, 22, 8, 1)
  padding: 0 0.2em

.tex-danger
  background-color: rgba(204, 3, 0, 0.3)
  color: rgba(52, 15, 14, 1)
  padding: 0 0.2em

.tex-fatal
  background-color: rgba(205, 2, 0, 1)
  color: rgba(255,255,255,1)
  padding: 0 0.2em


/* Classes for responsive progress bar */
.progressbar,
.progressbar li a
  display: flex
  flex-wrap: wrap
  justify-content: center
  align-items: center
  margin: 0

.progressbar
  li
    background-color: rgba(0, 0, 0, .15)
    list-style: none
    padding: 0
    margin: .5px
    transition: background-color 0.3s
    border: 0
    color: whitesmoke
    flex-grow: 1

  li:hover
    background-color: rgba(0, 0, 0, .25)
    border: 0

  @media screen and (max-width: 1200px)
    li
      width: calc(100% * (1/6) - 10px - 1px)

  li a
    font-weight: 300
    text-decoration: none
    color: #666666
    padding-top: .5em
    padding-bottom: .5em
    padding-left: 1.25em
    padding-right: 1.25em
    transition: color 0.3s

  li a:hover
    text-decoration: none
    border-bottom: 0px

  li:not([class*="is-active"]) a:hover,
  li:not([class*="is-active"]) a:focus,
  li:not([class*="is-active"]) a:active
    color: black

  li.is-active,
  li.is-complete.is-active
    background-color: #515151

  li.is-active a
    color: white
    font-weight: 600
    cursor: default
    pointer-events: none
    /*padding-right: calc(1.25em - 15px)*/

  li.is-active::after
    content: ""
    height: 0px
    width: 0px
    border: 8px solid transparent
    border-left-color: #515151
    margin-left: -8px
    z-index: 2
    float: right
    margin-right: -15px
    margin-top: -22px

  li:last-child.is-active a::after
      content: none !important

  li.is-complete
    background-color: rgba(0, 0, 0, .45)

  li.is-complete a
    color: white

  li.is-active a .icon
    display: none
    
  li.is-complete a .icon
    height: 1rem
    width: 1rem
    fill: grey
    margin: 0 3px 0 0

/* Classes for responsive bubble-style progress bar */
$bubblesize: 16px
$barsize: 16px
$dotcolor: #FFF
$complete: #0068ac
$incomplete: #ccc

ul.progressbar-OLD
  width: 100%
  display: flex
  margin: 0 0 1.5em 0
  > li
    text-align: center
    list-style: none
    position: relative
    margin-top: 1em
    width: 100%
    > a
      display: block
      color: #222
      line-height: 2em
      &:before
        content: ''
        display: block
        position: relative
        margin: 0 auto 4px
        background-color: $dotcolor
        width: $bubblesize
        height: $bubblesize
        text-align: center
        border: 5px solid $incomplete
        border-radius: 50%
      &:hover
        border-bottom: 1px solid transparent
        &:before
          border-width: 6px
          $background-color: $incomplete
          transform: scale(1.6)
          box-shadow: 0px 0px 1px .5px #999

    &:after
      content: ''
      height: $barsize
      width: 100%
      background-color: $incomplete
      position: absolute
      top: 0
      right: 50%
      z-index: -1

    &:first-child
      &:after
        display: none

    &.is-active
      > a
        &:before
          background-color: $dotcolor
          border-color: $complete
          border-width: 2px
          transform: scale(1.6)

    &.is-complete
      &:after
        background-color: $complete
      > a
        &:before
          background-color: $dotcolor
          border-color: $complete

/* info and help bubbles */
.help-bubble
  position: relative
  display: inline-block
  &:hover
    .bubble-text
      visibility: visible
  &:focus
    .bubble-text
      visibility: visible
  .bubble-text
    position: absolute
    visibility: hidden
    width: 160px
    background-color: #F5FAFE
    border: 1px solid #0068AC
    color: #0068AC
    text-align: center
    padding: 5px
    border-radius: 4px
    bottom: 125%
    left: 50%
    margin-left: -80px
    font-size: .8rem
    &:after
      content: " "
      position: absolute
      top: 100%
      left: 50%
      margin-left: -5px
      border-width: 5px
      border-style: solid
      border-color: #0068AC transparent transparent transparent


/* Formats the autotex log ouput.

   Ideally this would also have white-space: nowrap; but it doesnt play nice
   with flex. Unfortunately, the widely accepted solution
   (https://css-tricks.com/flexbox-truncated-text/) is not working here. */
.log-output
  max-height: 50vh
  height: 50vh
  color: black
  overflow-y: scroll
  overflow-x: scroll
  max-height: 100%
  max-width: 100%
  background-color: whitesmoke
  font-family: 'Courier New', Courier, monospace
  font-size: 9pt
  padding: 4px

/* See https://github.com/jgthms/bulma/issues/1417 */
.level-is-shrinkable
  flex-shrink: 1

/* Prevent the links under the mini search bar from wrapping. */
.mini-search .help
  width: 200%

/* This forces the content to stay in bounds. This also fixes the overflow
   of selects (without breaking the mini-search bar). */
.container
  width: 100%
columns
  max-width: 100%
column
  max-width: 100%
.field
  max-width: 100%
.control-cross-list
  max-width: 80%
