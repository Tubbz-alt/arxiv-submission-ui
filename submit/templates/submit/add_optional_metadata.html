{% extends "submit/base.html" %}


{% block title -%}Add or Edit Optional Metadata{%- endblock title %}

{% block within_content %}
<form method="POST" action="{{ url_for('ui.add_optional_metadata', submission_id=submission_id) }}">
  {{ form.csrf_token }}

  {% with field = form.doi %}
  <div class="field is-short-field">
    <div class="control">
      <label class="label">{{ field.label.text }} <span class="icon has-text-link"><i class="fa fa-question-circle"></i></span></label>
      {% if field.errors %}
        <div class="help is-danger field-error">
          {% for error in field.errors %}
              {{ error }}
          {% endfor %}
        </div>
      {% endif %}
      {% if field.description %}
      <p class="help has-text-grey is-marginless">
        {{ field.description|safe }}
      </p>
      {% endif %}
      {% if field.errors %}
        {{ field(class="input is-danger")|safe }}
      {% else %}
        {{ field(class="input")|safe }}
      {% endif %}
    </div>
  </div>
  {% endwith %}

  {% with field = form.journal_ref %}
  <div class="field is-short-field">
    <div class="control">
      <label class="label">{{ field.label.text }} <span class="icon has-text-link"><i class="fa fa-question-circle"></i></span></label>
      {% if field.errors %}
        <div class="help is-danger field-error">
          {% for error in field.errors %}
              {{ error }}
          {% endfor %}
        </div>
      {% endif %}
      {% if field.description %}
      <p class="help has-text-grey is-marginless">
        {{ field.description|safe }}
      </p>
      {% endif %}
      {% if field.errors %}
        {{ field(class="input is-danger")|safe }}
      {% else %}
        {{ field(class="input")|safe }}
      {% endif %}
    </div>
  </div>
  {% endwith %}

  {% with field = form.report_num %}
  <div class="field is-short-field">
    <div class="control">
      <label class="label">{{ field.label.text }} <span class="icon has-text-link"><i class="fa fa-question-circle"></i></span></label>
      {% if field.errors %}
        <div class="help is-danger field-error">
          {% for error in field.errors %}
              {{ error }}
          {% endfor %}
        </div>
      {% endif %}
      {% if field.description %}
      <p class="help has-text-grey is-marginless">
        {{ field.description|safe }}
      </p>
      {% endif %}
      {% if field.errors %}
        {{ field(class="input is-danger")|safe }}
      {% else %}
        {{ field(class="input")|safe }}
      {% endif %}
    </div>
  </div>
  {% endwith %}

  {% with field = form.acm_class %}
  <div class="field is-short-field">
    <div class="control">
      <label class="label">{{ field.label.text }} <span class="icon has-text-link"><i class="fa fa-question-circle"></i></span></label>
      {% if field.errors %}
        <div class="help is-danger field-error">
          {% for error in field.errors %}
              {{ error }}
          {% endfor %}
        </div>
      {% endif %}
      {% if field.description %}
      <p class="help has-text-grey is-marginless">
        {{ field.description|safe }}
      </p>
      {% endif %}
      {% if field.errors %}
        {{ field(class="input is-danger")|safe }}
      {% else %}
        {{ field(class="input")|safe }}
      {% endif %}
    </div>
  </div>
  {% endwith %}

  {% with field = form.msc_class %}
  <div class="field is-short-field">
    <div class="control">
      <label class="label">{{ field.label.text }} <span class="icon has-text-link"><i class="fa fa-question-circle"></i></span></label>
      {% if field.errors %}
        <div class="help is-danger field-error">
          {% for error in field.errors %}
              {{ error }}
          {% endfor %}
        </div>
      {% endif %}
      {% if field.description %}
      <p class="help has-text-grey is-marginless">
        {{ field.description|safe }}
      </p>
      {% endif %}
      {% if field.errors %}
        {{ field(class="input is-danger")|safe }}
      {% else %}
        {{ field(class="input")|safe }}
      {% endif %}
    </div>
  </div>
  {% endwith %}

  {{ submit_macros.submit_nav(submission_id) }}
</form>
{% endblock within_content %}
